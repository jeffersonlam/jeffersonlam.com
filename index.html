<!doctype html>
<html lang="en">
<head>
  <title>Jefferson Lam</title>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="author" content="Jefferson Lam">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="./css/main.css">
  <style>
    body {
      font-size: 1.5em;
      font-family: 'Courier New', Courier, monospace;
    }
    a {
      text-decoration: none;
      color: #AA00FF;
      font-style: italic;
    }
    a:visited {
      color: #AA00FF;
    }
    a:hover {
      text-decoration: underline;
    }
    .guy {
      width: 6em;
      display: inline-block;
    }
    .sparkles {
      width: 6em;
      margin-right: 5px;
      display: inline-block;
      text-align: center;
    }

  </style>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-46392706-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-46392706-1');
  </script>
</head>
<body>

<pre>
Jefferson Lam
Front End Developer


Projects

  <a href="http://jefferson.im/csvtojson/">CSV to JSON</a>
  <a href="https://whole30.jefferson.im/">Whole30 Compliance Checker</a>
  <a href="http://streetspin.com/newgame">Streetspin</a>
  <a href="/maps">Daytripper</a>

---

  <a href="https://github.com/jeffersonlam">Github</a>
  <a href="https://codepen.io/jeffersonlam/">Codepen</a>
  <a href="https://www.linkedin.com/in/jeffersonlam/">LinkedIn</a>
  <a id="email"></a>

---
                     <span class="laptop-top">  ____</span>
<div class="animation"><span class="guy">( ‚äÉ„Éªœâ„Éª)„Å£</span><span class="sparkles">-.ÔΩ•Ôæü*ÔΩ°-ÔΩ•Ôæü‚òÜ</span><span class="laptop">__/___/</span></div>
</pre>

<script>
const animationEl = document.querySelector('.animation');
const sparklesEl = document.querySelector('.sparkles');
const guyEl = document.querySelector('.guy');
let playing = false;
let speed = 300;
const increment = .95;
const limitA = 100;
const limitB = 40;
const limitC = 20;
let bugs = false;
let speedUp = false;
let sparklesAnimation = null;
let guyAnimation = null;
const sparkles = '-.ÔΩ•Ôæü*ÔΩ°-ÔΩ•Ôæü‚òÜ';
const projectiles = ['‚òÜ','‚òÉ', '‚öæÔ∏é', '‚úèÔ∏é', '‚ú™', '‚úø', '-', '.', 'ÔΩ•', 'Ôæü', '*', 'ÔΩ°', 'Ôæü', '=', '‚â°', '‚úÇ'];
const guyFramesA = ['( ‚äÉ„Éªœâ„Éª)‡©≠', '( ‡©≠„Éªœâ„Éª)‚äÉ'];
const guyFramesB = ['( ‚äÉ ‚Ä¢ÃÄœâ‚Ä¢ÃÅ)‡©≠', '( ‡©≠ ‚Ä¢ÃÄœâ‚Ä¢ÃÅ)‚äÉ'];
const guyFramesC = ['( ‚äÉ ‚óã–î‚óã)‡©≠', '( ‡©≠ ‚óã–î‚óã)‚äÉ'];
const colors = [
  '#d50000',
  '#C51162',
  '#AA00FF',
  '#6200EA',
  '#304FFE',
  '#2962FF',
  '#0091EA',
  '#00B8D4',
  '#00BFA5',
  '#00C853',
  '#64DD17',
  '#AEEA00',
  '#FFD600',
  '#FFAB00',
  '#FF6D00',
  '#DD2C00',
];
let counter = sparkles.length;
let guyCounter = 0;
let colorCounter = 0;
let sparklesSpans = [];

animationEl.addEventListener('click', () => {
  if (!playing) {
    initializeAnimation();
    sparklesAnimation = setInterval(animateSparkles, speed);
    guyAnimation = setInterval(animateGuy, speed);
    playing = true;
  } else if (speed > limitC) {
    speedUp = true;
  }
});

function initializeAnimation() {
  sparklesSpans = [...sparkles].map(sparkle => {
    const span = document.createElement('span');
    span.textContent = sparkle;
    span.style.color = nextColor();
    return span;
  });
  sparklesEl.innerHTML = '';
  sparklesSpans.forEach(sparkle => {
    sparklesEl.appendChild(sparkle);
  });
}

function nextColor() {
  if (colorCounter < 0) {
    colorCounter = colors.length - 1;
  }
  const color = colors[colorCounter--];
  return color;
}

function randomProjectile() {
  return projectiles[getRandomInt(projectiles.length)];
}

function animateSparkles() {
  counter++;
  const sparkle = sparklesEl.lastChild;
  sparklesEl.removeChild(sparkle);

  if (counter >= sparkles.length) {
    counter = 0;
    const span = document.createElement('span');
    span.textContent = randomProjectile();
    span.style.color = nextColor();
    sparklesEl.insertBefore(span, sparklesEl.firstChild);
  } else {
    sparkle.style.color = nextColor();
    sparklesEl.insertBefore(sparkle, sparklesEl.firstChild);
  }

  if (!bugs && speed < limitB) {
    bugs = true;
    projectiles.push('üêõ', 'üëæ');
  }

  if (speedUp) {
    speedUp = false;
    speed *= increment;
    clearInterval(sparklesAnimation);
    sparklesAnimation = setInterval(animateSparkles, speed);
  }
}

function animateGuy() {
  if (speed > limitA) {
    guyEl.textContent = guyFramesA[guyCounter++];
  } else if (speed < limitA && speed > limitB) {
    guyEl.textContent = guyFramesB[guyCounter++];
  } else if (speed < limitB && speed > limitC) {
    guyEl.textContent = guyFramesC[guyCounter++];
  } else if (speed < limitC) {
    flipTable();
  }

  if (guyCounter >= guyFramesA.length) guyCounter = 0;

  if (speedUp) {
    clearInterval(guyAnimation);
    guyAnimation = setInterval(animateGuy, speed);
  }
}

function flipTable() {
  clearInterval(sparklesAnimation);
  clearInterval(guyAnimation);
  setInterval(() => {
    const remainingSparkles = [...sparklesEl.textContent];
    remainingSparkles.pop();
    remainingSparkles.unshift(' ');
    sparklesEl.textContent = remainingSparkles.join('');
  }, speed);
  setTimeout(() => {
    guyEl.textContent = '( „ÉéO‚ÄøO)„Éé';
    sparklesEl.textContent = '';
    const laptop = document.querySelector('.laptop');
    const laptopTop = document.querySelector('.laptop-top');
    laptopTop.textContent = '    ______';
    laptop.textContent = 'ÂΩ°ÂΩ°/___/';
  }, 1500);
}

function getRandomInt(max) {
  return Math.floor(Math.random() * Math.floor(max));
}

// -----

createEmailAnchor(['jefferson','w','lam','@','gmail','.','com'], 'email');

function createEmailAnchor(array, anchorId) {
  var email = array.join('');
  var elAnchor = document.getElementById(anchorId);
  elAnchor.href = 'mailto:' + email + '?subject=Reaching Out';
  elAnchor.innerHTML = email;
}

</script>
</body>
</html>
